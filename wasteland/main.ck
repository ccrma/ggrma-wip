//----------------------------------------------------------------------------
// name: main.ck
// desc: Main entry point for the visual novel
// note: Run the game: chuck main.ck
//----------------------------------------------------------------------------

@import "game.ck"

//----------------------------------------------------------------------------
// Camera Setup
//----------------------------------------------------------------------------

GG.camera().aspect(16./9);
GG.camera().orthographic();
GG.camera().posZ(8.0);

//----------------------------------------------------------------------------
// Scene Setup
//----------------------------------------------------------------------------

GG.scene().backgroundColor(@(0.1, 0.1, 0.15));

//----------------------------------------------------------------------------
// Window Setup
//----------------------------------------------------------------------------

// GWindow.sizeLimits(1920, 1080, 0, 0, @(16, 9));
// GWindow.center();
GWindow.title("Date the Dobots");

//----------------------------------------------------------------------------
// Start the game
//----------------------------------------------------------------------------

Game game;
spork ~ game.run();

// fun void resizeListener() {
//     while (true) {
//         GWindow.resizeEvent() => now;
//         GWindow.sizeLimits(0, 0, 0, 0, @(16, 9));
//     }
// } spork ~ resizeListener();

//----------------------------------------------------------------------------
// Keep the main thread alive
//----------------------------------------------------------------------------

while (true) {
    GG.nextFrame() => now;
}
